---
title: Using Triggers
subtitle: Send payloads to your system based on external events
image: "https://og.composio.dev/api/og?title=Using%20Triggers"   # image for socials
keywords: ""
hide-nav-links: true
---

Triggers act as a notification system for your AI applications, enabling your agents to respond dynamically to external events occurring within your integrations.

When these events take place, triggers capture relevant information and deliver structured payloads directly to your system, facilitating timely and context-aware responses.


<Frame caption="Triggers through Composio" background="subtle">
![Triggers Overview](../../assets/images/triggers.png)
</Frame>


<Tip title="Prerequisites">
Before proceeding, ensure you've created an auth config and established a connection to your external account (e.g., Slack, GitHub).
</Tip>

## Creating a trigger
Head to the any app that supports triggers, eg [Slack](https://app.composio.dev/app/slack) in the dashboard and enable the trigger of choice.
<video 
    src="../../assets/videos/enabling-triggers.mp4"
    width="854"
    height="480"
    autoplay
    loop
    playsinline
    controls
>
</video>

The [triggers page](https://app.composio.dev/active_triggers?page=1) will show you all the triggers that are enabled for your account.

<Frame caption="Triggers page" background="subtle">
<img src="../../assets/images/manage-triggers.png" alt="Manage triggers" />
</Frame>

You create triggers through the SDK as well.

<CodeGroup>
```typescript TypeScript
const createResponse = await composio.triggers.create("GITHUB_STAR_ADDED_EVENT", {
  connectedAccountId: "ca_abc1234",
  triggerConfig: {
    owner: "composiohq",
    repo: "composio",
  },
});
```
```python Python
instance = composio.triggers.create(
    slug="GITHUB_COMMIT_EVENT",
    connected_account_id="ca_abc1234",
    trigger_config={
        "repo": "composio",
        "owner": "composiohq",
    },
)
print(instance)
```
</CodeGroup>

You need to fetch the connection ID for the user to create a trigger.

<CodeGroup>
```typescript TypeScript
const userId = "user@acme.com";

const connections = await composio.connectedAccounts.list({userIds: [userId]});

console.log(connections.items[0].id);

const createResponse = await composio.triggers.create("GITHUB_STAR_ADDED_EVENT", {
  connectedAccountId: connections.items[0].id,
  triggerConfig: {
    owner: "composiohq",
    repo: "composio",
  },
});
```
```python Python
# Fetch connected account for user
user_id = "user@acme.com"
connected_accounts = composio.connected_accounts.list(user_ids=[user_id], limit=1).items
if len(connected_accounts) == 0:
    raise ValueError("No connected account found")

# Get the first connected account
connected_account = connected_accounts[0]

# Create a trigger instance
instance = composio.triggers.create(
    slug="GITHUB_COMMIT_EVENT",
    connected_account_id=connected_account.id,
    trigger_config={
        "repo": "composio",
        "owner": "composiohq",
    },
)
print(instance)
```
</CodeGroup>

## Subscribing to triggers
You can subscribe to triggers to receive payloads from the trigger.

You subscribe to multiple trigger events by configuring the filters.

When you specify multiple multiple filters, _ALL_ of them must match for the trigger to be subscribed to.

<CodeGroup>
```typescript TypeScript
await composio.triggers.subscribe(
  triggerData => {
    console.log('Received trigger:', triggerData);
  },
  {
    triggerId: 'ti_So9EQf8XnAcy',
    // userId: 'user@acme.com',
    // toolkits: ['github', 'slack'],
    // triggerSlug: ["GITHUB_STAR_ADDED_EVENT"]
    // authConfigId: "ac_1234567890"
  }
)
```
```python Python
user_id = uuid.uuid4()
# Subscribe to a trigger
subscription = composio.triggers.subscribe()
# Define a handler
@subscription.handle(
  toolkit="GITHUB",
  user_id=user_id,
  # trigger_slug="GITHUB_STAR_ADDED_EVENT"
  # auth_config_id="ac_1234567890",
  # trigger_id="ti_So9EQf8XnAcy",

)
def handle_github_event(data):
    print(data)
```
</CodeGroup>

### Trigger payload types
When subscribing to triggers, it is helpful to know the payload type recieved from the trigger. You can inspect the payload type by fetching the trigger type.

<CodeGroup>
```typescript TypeScript
const triggerType = await composio.triggers.getType("SLACK_RECEIVE_MESSAGE");

console.log(triggerType.payload);
```
```python Python
# Get a trigger by id
trigger = composio.triggers.get_type(slug="GITHUB_COMMIT_EVENT")
print(trigger.payload)
```
</CodeGroup>

## Specifying trigger configuration
In some cases, triggers require certain configuration to set the correct events. You can inspect and add these properties while enabling the triggers.

The dashboard will show you the trigger configuration to fill in.

<Frame caption="Trigger configuration" background="subtle">
<img src="../../assets/images/trigger-config.png" alt="Trigger configuration" width="400px" height="auto"/>
</Frame>

<CodeGroup>
```typescript TypeScript
const triggerType = await composio.triggers.getType("GITHUB_STAR_ADDED_EVENT");

console.log(triggerType.config);
```
```python Python
# Get a trigger by id
trigger = composio.triggers.get_type(slug="GITHUB_COMMIT_EVENT")
print(trigger.config)
```
</CodeGroup>


<CodeGroup>
```typescript TypeScript
await composio.triggers.create("GITHUB_PULL_REQUEST_EVENT", {
  connectedAccountId: "ca_k_py8Qbd17_d",
  triggerConfig: {  // Properties expected for trigger config
    owner: "composiohq",
    repo: "composio",
  },
});
```
```python Python
instance = composio.triggers.create(
    slug="GITHUB_PULL_REQUEST_EVENT",
    connected_account_id="ca_abc1234",
    trigger_config={
        "repo": "composio",
        "owner": "composiohq",
    },
)
```
</CodeGroup>


## Enabling/Disabling triggers
In cases where the trigger isn't required for the system, it can be disabled.

<CodeGroup>
```typescript TypeScript
await composio.triggers.disable("ti_abcd123");
```
```python Python
# Disable a trigger instance
disabled_instance = composio.triggers.disable(trigger_id="ti_abcd123")
print(disabled_instance)
```
</CodeGroup>

If needed, the trigger can be enabled again.

<CodeGroup>
```typescript TypeScript
await composio.triggers.enable("ti_abcd123);
```
```python Python
# Enable a trigger instance
enabled_instance = composio.triggers.enable(trigger_id="ti_abcd123")
print(enabled_instance)
```
</CodeGroup>
