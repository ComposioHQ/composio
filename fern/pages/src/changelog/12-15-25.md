# Tool Router is Generally Available in TS and PY SDKs

**Release Date:** December 15, 2025  
**Python SDK Version:** 0.10.0  
**TypeScript SDK Version:** 0.3.0

## Major Features Added

### 1. Tool Router - Stable Release
**Status:** Moved from experimental to stable production feature

The Tool Router is now a fully supported feature that enables creating isolated MCP (Model Context Protocol) sessions for users with scoped access to toolkits and tools.

**Key Capabilities:**
- Create isolated sessions with specific toolkit configurations
- Manage authentication flows for users across multiple toolkits
- Access tools via MCP-compatible server URL
- Query toolkit connection states
- Integrate with multiple AI frameworks (OpenAI, Anthropic, LangChain, LlamaIndex, CrewAI, Vercel AI SDK)

**Changes:**
- Removed experimental warnings and deprecated MCP functionality
- Updated all examples and documentation to reflect stable API
- Both Python and TypeScript SDKs now have full Tool Router support

**Files Modified:**
- `python/composio/core/models/tool_router.py` - Major refactoring
- `ts/packages/core/src/models/ToolRouter.ts` - Enhanced implementation
- All tool router examples updated across both SDKs

### 2. Native Tool Execution Support for Tool Router

**Python SDK:**
- Added native tool execution capabilities directly through Tool Router sessions
- Enhanced `ToolRouterSession` with improved tool execution methods
- Better integration with provider-wrapped tools

**TypeScript SDK:**
- Added native tool support for Tool Router sessions
- Improved type safety and error handling
- Enhanced `session.tools()` method for framework-specific tool objects

**Impact:**
- Users can now execute tools directly through Tool Router sessions without additional setup
- Improved performance and reduced complexity
- Better error handling and debugging capabilities

### 3. Webhook Verification Feature

**New Method:** `composio.triggers.verifyWebhook()`

Added comprehensive webhook verification functionality for secure webhook handling:

**Python SDK:**
- New `verify_webhook()` method in `Triggers` class
- Support for signature verification
- Enhanced error handling with new exception types

**TypeScript SDK:**
- New `verifyWebhook()` method in `Triggers` class
- Type-safe webhook verification
- Comprehensive test coverage (592+ test cases)

**Use Cases:**
- Secure webhook endpoint validation
- Signature verification for incoming webhooks
- Enhanced security for trigger-based workflows

### 4. LangChain v1 Support (Python SDK)

**Upgrade:** Ported LangChain provider to support LangChain v1

- Updated LangChain provider to work with LangChain v1 APIs
- Improved compatibility and performance
- Updated dependencies and examples

**Files Modified:**
- `python/providers/langchain/` - Complete v1 port
- Updated demo scripts and documentation

### 5. CommonJS Support Fixes (TypeScript SDK)

**Major Fix:** Fixed CommonJS usage of `@composio/core`

**Changes:**
- Switched bundler from `tsup` to `tsdown` for better CommonJS compatibility
- Added new CommonJS example (`ts/examples/cjs/`)
- Fixed compatibility issues with Node.js CommonJS environments
- Updated package configuration and build process

**Impact:**
- Better support for Node.js projects using CommonJS
- Improved compatibility with various build tools
- Enhanced developer experience


## Improvements & Enhancements

### TypeScript SDK Improvements

1. **Type Safety Enhancements**
   - Fixed Parameters type in `@composio/ts-builders` package
   - Improved type inference for Tool Router sessions
   - Enhanced error type definitions

2. **Error Handling**
   - Added `options` parameter to `ComposioMultipleConnectedAccountsError` constructor
   - Fixed typo in deprecate decorator error message
   - Standardized error codes (using `SDKErrorCodes.NO_API_KEY_PROVIDED`)

3. **Telemetry Improvements**
   - Fixed telemetry duration calculation (now calculated after method execution)
   - Improved performance tracking accuracy

4. **Dependency Updates**
   - Updated `zod-to-json-schema` to 3.25.0 (supports zod/3)
   - Removed package override in `.pnpmfile.cjs`
   - Fixed version range for zod peerDependency

### Python SDK Improvements

1. **Bug Fixes**
   - Fixed KeyError: 'type' when SUPABASE_BETA_RUN_SQL_QUERY is used with Agents
   - Fixed typo in `auth_scheme.status` property
   - Improved error handling and validation

2. **Documentation**
   - Added changelog entries for new features
   - Updated examples and usage guides
   - Improved API documentation

3. **Testing**
   - Added comprehensive tests for Tool Router functionality
   - Enhanced test coverage for connected accounts
   - Improved test reliability

## Removed Features & Deprecations

### Removed Features

1. **Deprecated MCP Functionality**
   - Removed deprecated MCP methods and classes
   - Cleaned up experimental MCP code
   - Simplified API surface


## Security & Quality Improvements

1. **Security Audits**
   - Added `pnpm audit --prod` checks
   - Automated security vulnerability scanning
   - Improved dependency management

2. **Code Quality**
   - Enhanced linting and type checking
   - Improved test coverage
   - Better error handling

3. **Documentation Security**
   - Added webhook verification documentation
   - Improved security best practices guides
   - Enhanced API security documentation


## Migration Guide

### For Tool Router Users

If you were using the experimental Tool Router API:

**Before (Experimental):**
```python
# Old experimental API
composio.experimental.tool_router.create(...)
```

**After (Stable):**
```python
# New stable API
composio.create(...)
```

### For CommonJS Users (TypeScript)

The CommonJS support has been significantly improved. If you were experiencing issues:

1. Update to latest version: `@composio/core@1.0.0`
2. Check the new CommonJS example: `ts/examples/cjs/`
3. No code changes required - improved compatibility out of the box

### For LangChain Users (Python)

If you're using the LangChain provider:

1. Update to LangChain v1
2. Update Composio SDK to latest version
3. Check updated examples in `python/providers/langchain/`


## Bug Fixes

### Python SDK
- Fixed KeyError when using SUPABASE_BETA_RUN_SQL_QUERY with Agents
- Fixed typo in `auth_scheme.status` property
- Improved error handling for connected accounts
- Fixed array parsing in JSON schema conversion

### TypeScript SDK
- Fixed CommonJS compatibility issues
- Fixed Parameters type in ts-builders
- Fixed telemetry duration calculation
- Fixed error message typos
- Improved error handling for multiple connected accounts


## Package Updates

### Python Packages
- All provider packages updated to v0.10.0
- Core SDK: `composio==0.10.0`
- LangChain provider: Updated for v1 compatibility

### TypeScript Packages
- Core SDK: `@composio/core@0.3.0`
- All provider packages updated
- Dependencies updated for better compatibility


## Next Steps

### Recommended Actions

1. **Update Dependencies**
   ```bash
   # Python
   pip install --upgrade composio
   
   # TypeScript
   npm install @composio/core@latest
   ```

2. **Review Breaking Changes**
   - Tool Router API changes (experimental â†’ stable)
   - Removed deprecated MCP methods
   - Updated LangChain provider requirements

3. **Test Your Integration**
   - Run your test suites
   - Verify Tool Router functionality
   - Check webhook verification if applicable

4. **Update Documentation**
   - Review API changes
   - Update code examples
   - Check migration guides

## Contributors

Thank you to all contributors who made this release possible:

- Musthaq Ahamad (@haxzie)
- Alberto Schiabel (@jkomyno)
- Sushmitha Mallesh (@Sushmithamallesh)

## Resources

- **Documentation:** https://docs.composio.dev
- **GitHub Repository:** https://github.com/composiohq/composio
- **Issue Tracker:** https://github.com/composiohq/composio/issues


## Notes

- This is a major release with significant new features and improvements
- Tool Router is now production-ready and recommended for all new projects
- Python SDK is approaching v0.10.0 stable release
- TypeScript SDK continues to improve with better CommonJS support
- All changes are backward compatible where possible, with clear migration paths

**For questions or support, please reach out through our GitHub issues or Support channels.**

