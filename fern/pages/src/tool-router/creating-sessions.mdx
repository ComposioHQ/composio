---
title: Session configuration
image: "https://og.composio.dev/api/og?title=Session%20Configuration"
description: "Configure toolkits, authentication, and connections for a session"
keywords: "sessions, create session, tool router, configuration, configuring toolkits"
hide-nav-links: false
---

Sessions are ephemeral, user-scoped containers that manage which tools are available and how authentication works.

## Creating a session

<CodeGroup>
```python
from composio import Composio

composio = Composio(api_key="your-api-key")
session = composio.create(user_id="pg-user-550e8400-e29b-41d4")
```

```typescript
import { Composio } from "@composio/core";

const composio = new Composio({ apiKey: "your-api-key" });
const session = await composio.create("pg-user-550e8400-e29b-41d4");
```
</CodeGroup>

By default, all toolkits are available and in-chat authentication is enabled.

## Toolkit access

### Allow specific toolkits

<CodeGroup>
```python
session = composio.create(
    user_id="pg-user-550e8400-e29b-41d4",
    toolkits=["github", "gmail", "slack"]
)
```

```typescript
const session = await composio.create("pg-user-550e8400-e29b-41d4", {
  toolkits: ["github", "gmail", "slack"],
});
```
</CodeGroup>

### Disable specific toolkits

<CodeGroup>
```python
session = composio.create(
    user_id="pg-user-550e8400-e29b-41d4",
    toolkits={"disable": ["exa", "firecrawl"]}
)
```

```typescript
const session = await composio.create("pg-user-550e8400-e29b-41d4", {
  toolkits: { disable: ["exa", "firecrawl"] },
});
```
</CodeGroup>

## Authentication

### Custom OAuth apps

Use your own OAuth credentials instead of Composio's defaults. See [White-labeling authentication](/tool-router/white-labeling-authentication) for branding, or [Configuring custom auth configs](/tool-router/configuring-custom-auth-configs) for toolkits that require your own credentials.

<CodeGroup>
```python
session = composio.create(
    user_id="pg-user-550e8400-e29b-41d4",
    auth_configs={
        "github": "ac_your_github_config",
        "slack": "ac_your_slack_config"
    }
)
```

```typescript
const session = await composio.create("pg-user-550e8400-e29b-41d4", {
  authConfigs: {
    github: "ac_your_github_config",
    slack: "ac_your_slack_config",
  },
});
```
</CodeGroup>

### Account selection

Specify which connected account to use when a user has multiple accounts for the same toolkit.

<CodeGroup>
```python
session = composio.create(
    user_id="pg-user-550e8400-e29b-41d4",
    connected_accounts={
        "gmail": "ca_work_gmail",
        "github": "ca_personal_github"
    }
)
```

```typescript
const session = await composio.create("pg-user-550e8400-e29b-41d4", {
  connectedAccounts: {
    gmail: "ca_work_gmail",
    github: "ca_personal_github",
  },
});
```
</CodeGroup>

### In-chat prompts

Control whether the agent can prompt users to connect accounts during chat.

**Disable in-chat authentication:**

<CodeGroup>
```python
session = composio.create(
    user_id="pg-user-550e8400-e29b-41d4",
    manage_connections=False
)
```

```typescript
const session = await composio.create("pg-user-550e8400-e29b-41d4", {
  manageConnections: false,
});
```
</CodeGroup>

**Custom callback URL:**

<CodeGroup>
```python
session = composio.create(
    user_id="pg-user-550e8400-e29b-41d4",
    manage_connections={"callback_url": "https://myapp.com/callback"}
)
```

```typescript
const session = await composio.create("pg-user-550e8400-e29b-41d4", {
  manageConnections: { callbackUrl: "https://myapp.com/callback" },
});
```
</CodeGroup>

For more details, see [Using in-chat authentication](/tool-router/using-in-chat-authentication) and [Manually authenticating users](/tool-router/manually-authenticating-users).

## Session methods

{/* ### tools()

Get meta-tools to pass to your agent framework.

<CodeGroup>
```python
tools = session.tools()

agent = Agent(
    name="Assistant",
    instructions="You are a helpful assistant.",
    tools=tools
)
```

```typescript
const tools = await session.tools();

const agent = new Agent({
  name: "Assistant",
  instructions: "You are a helpful assistant.",
  tools: tools,
});
```
</CodeGroup>

For framework-specific examples, see [Using as native tools](/tool-router/using-as-native-tools). */}

### mcp

Get the MCP server URL to use with any MCP-compatible client.

<CodeGroup>
```python
mcp_url = session.mcp.url
```

```typescript
const { mcp } = session;
console.log(mcp.url);
```
</CodeGroup>

For framework examples, see [Using with MCP clients](/tool-router/using-with-mcp-clients).

### authorize()

Manually authenticate a user to a toolkit outside of the chat flow.

<CodeGroup>
```python
connection_request = session.authorize(
    "github",
    callback_url="https://myapp.com/callback"
)

print(connection_request.redirect_url)

connected_account = connection_request.wait_for_connection()
```

```typescript
const connectionRequest = await session.authorize("github", {
  callbackUrl: "https://myapp.com/callback",
});

console.log(connectionRequest.redirectUrl);

const connectedAccount = await connectionRequest.waitForConnection();
```
</CodeGroup>

For more details, see [Manually authenticating users](/tool-router/manually-authenticating-users).

### toolkits()

List available toolkits and their connection status. Use this to build a UI showing which apps are connected.

<CodeGroup>
```python
toolkits = session.toolkits(
    order_by="popularity",
    is_connected=True
)

for toolkit in toolkits:
    status = toolkit.connected_account.id if toolkit.connected_account else "Not connected"
    print(f"{toolkit.name}: {status}")
```

```typescript
const toolkits = await session.toolkits({
  orderBy: "popularity",
  isConnected: true,
});

toolkits.forEach((toolkit) => {
  console.log(`${toolkit.name}: ${toolkit.connectedAccount?.id ?? "Not connected"}`);
});
```
</CodeGroup>

**Filter options:**
- `orderBy`: `"popularity"`, `"name"`, or `"connected_at"`
- `isConnected`: `true` to show only connected toolkits
- `category`: Filter by category (e.g., `"productivity"`, `"communication"`)
