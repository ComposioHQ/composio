---
title: Using Triggers
subtitle: Send payloads to your system based on external events
image: "https://og.composio.dev/api/og?title=Using%20Triggers"   # image for socials
keywords: ''
hide-nav-links: true
---

Triggers act as a notification system for your AI applications, enabling your agents to respond dynamically to external events occurring within your integrations.

When these events take place, triggers capture relevant information and deliver structured payloads directly to your system, facilitating timely and context-aware responses.

<Frame caption="Triggers through Composio" background="subtle">
  ![Triggers Overview](../../../assets/images/triggers.png)
</Frame>

<Tip title="Prerequisites">
  Before proceeding, ensure you've created an auth config and established a connection to your
  external account (e.g., Slack, GitHub).
</Tip>

## Creating a trigger

Head to any app that supports triggers, such as [Slack](https://app.composio.dev/app/slack) in the dashboard and enable the trigger of choice.

<video
  src="../../../assets/videos/enabling-triggers.mp4"
  width="854"
  height="480"
  autoplay
  loop
  playsinline
  controls
></video>

The [triggers page](https://app.composio.dev/active_triggers?page=1) will show you all the triggers that are enabled for your account.

<Frame caption="Triggers page" background="subtle">
  <img src="../../../assets/images/manage-triggers.png" alt="Manage triggers" />
</Frame>

You can also create triggers programmatically using the SDK. To get started, first view the required configuration for creating a trigger:

<CodeGroup>
<SnippetCode
  src="fern/snippets/triggers/typescript/triggers.ts"
  startLine={1}
  endLine={30}
  title="TypeScript (new)"
/>

</CodeGroup>

To create a trigger, first fetch the user's connection ID, then use it along with the required configuration.

<CodeGroup>
```python Python
instance = composio.triggers.create(
    slug="GITHUB_COMMIT_EVENT",
    connected_account_id="ca_abc1234",
    trigger_config={
        "repo": "composio",
        "owner": "composiohq",
    },
)
print(instance)
```
<SnippetCode
  src="fern/snippets/triggers/typescript/triggers.ts"
  startLine={31}
  endLine={46}
  title="TypeScript (new)"
/>
</CodeGroup>


## Subscribing to triggers using the SDK (for development)
During development, you may not have a proper webhook setup -- so you can subscribe to triggers directly through the SDK.

You subscribe to multiple trigger events by configuring the filters.
When you specify multiple filters, _ALL_ of them must match for the trigger to be subscribed to.

This method uses WebSocket to subscribe to the trigger.

<CodeGroup>
```python Python
# Fetch connected account for user
user_id = "user@acme.com"
connected_accounts = composio.connected_accounts.list(user_ids=[user_id], limit=1).items
if len(connected_accounts) == 0:
    raise ValueError("No connected account found")

# Get the first connected account
connected_account = connected_accounts[0]

# Create a trigger instance
instance = composio.triggers.create(
    slug="GITHUB_COMMIT_EVENT",
    connected_account_id=connected_account.id,
    trigger_config={
        "repo": "composio",
        "owner": "composiohq",
    },
)
print(instance)
```

<SnippetCode
src="fern/snippets/triggers/typescript/triggers.ts"
startLine={49}
endLine={60}
title="TypeScript (new)"
/>

</CodeGroup>


## Subscribing to triggers through Webhooks
For production environments, you can receive trigger events via webhooks. This requires configuring a publicly accessible URL where Composio can send event payloads. The URL should point to an endpoint in your application that processes these incoming webhook requests.

<Frame caption="Webhook setup" background="subtle">
  <img src="../../../assets/images/setup-webhook.png" alt="Webhook setup" />
</Frame>

<CodeGroup>

<SnippetCode
  src="fern/snippets/triggers/python/trigger-webhook.py"
  title="app/route.py"
/>

<SnippetCode
  src="fern/snippets/triggers/typescript/trigger-webhook.ts"
  title="app/api/webhook/route.ts"
/>

</CodeGroup>

### Trigger payload types
When subscribing to triggers, it is helpful to know the payload type received from the trigger. You can inspect the payload type by fetching the trigger type.

<CodeGroup>
```python Python maxLines=60 wordWrap
# Get a trigger by id
trigger = composio.triggers.get_type(slug="GITHUB_COMMIT_EVENT")
print(trigger.payload)
```

```typescript TypeScript maxLines=60 wordWrap
const triggerType = await composio.triggers.getType("SLACK_RECEIVE_MESSAGE");

console.log(triggerType.payload);
```

</CodeGroup>

## Subscribing to triggers through the SDK

During development, when you may not have a proper webhook setup, you can subscribe to triggers directly through the SDK. This implementation uses WebSocket to establish a real-time connection to the trigger.

You can subscribe to multiple trigger events by configuring filters. When specifying multiple filters, _ALL_ of them must match for the trigger to be subscribed to.

<CodeGroup>
```python Python maxLines=60 wordWrap
user_id = "user@email.com"

# Subscribe to a trigger
subscription = composio.triggers.subscribe()

# Define a handler
@subscription.handle(toolkit="GITHUB", user_id=user_id)
def handle_github_event(data):
    print(data)
```
```typescript TypeScript maxLines=60 wordWrap
await composio.triggers.subscribe(
  triggerData => {
    console.log('Received trigger:', triggerData);
  },
  {
    triggerId: 'ti_So9EQf8XnAcy',
    // userId: 'user@acme.com',
    // toolkits: ['github', 'slack'],
    // triggerSlug: ["GITHUB_STAR_ADDED_EVENT"]
    // authConfigId: "ac_1234567890"
  }
)
```
</CodeGroup>

## Specifying trigger configuration

Triggers often require specific configuration to properly handle events. You can inspect and configure these properties through both the dashboard and the SDK.

<Frame caption="Trigger configuration" background="subtle">
  <img
    src="../../../assets/images/trigger-config.png"
    alt="Trigger configuration"
    width="400px"
    height="auto"
  />
</Frame>

<CodeGroup>
```python Python maxLines=60 wordWrap
# Get a trigger by id
trigger = composio.triggers.get_type(slug="GITHUB_COMMIT_EVENT")
print(trigger.config)
```

```typescript TypeScript maxLines=60 wordWrap
const triggerType = await composio.triggers.getType("GITHUB_STAR_ADDED_EVENT");

console.log(triggerType.config);

```

</CodeGroup>

<CodeGroup>
```python Python maxLines=60 wordWrap
instance = composio.triggers.create(
    slug="GITHUB_PULL_REQUEST_EVENT",
    connected_account_id="ca_abc1234",
    trigger_config={
        "repo": "composio",
        "owner": "composiohq",
    },
)
```
```typescript TypeScript maxLines=60 wordWrap
await composio.triggers.create("GITHUB_PULL_REQUEST_EVENT", {
  connectedAccountId: "ca_k_py8Qbd17_d",
  triggerConfig: {  // Properties expected for trigger config
    owner: "composiohq",
    repo: "composio",
  },
});
```
</CodeGroup>

## Enabling/Disabling triggers

In cases where the trigger isn't required for the system, it can be disabled.

<CodeGroup>
  ```python Python maxLines=60 wordWrap
  # Disable a trigger instance 
  disabled_instance = composio.triggers.disable(trigger_id="ti_abcd123")
  print(disabled_instance) 
  ```
  ```typescript TypeScript maxLines=60 wordWrap
  await composio.triggers.disable("ti_abcd123");
  ```
</CodeGroup>

If needed, the trigger can be enabled again.

<CodeGroup>
  ```python Python maxLines=60 wordWrap
  # Enable a trigger instance
  enabled_instance = composio.triggers.enable(trigger_id="ti_abcd123")
  print(enabled_instance)
  ```
  ```typescript TypeScript maxLines=60 wordWrap
  await composio.triggers.enable("ti_abcd123");
  ```
</CodeGroup>

## Troubleshooting
If you encounter issues with triggers or webhook listeners, you can use the Composio dashboard to inspect detailed trigger logs. The dashboard allows you to review event payloads, identify errors, and manually resend events for testing purposes.

Access the trigger logs [here](https://app.composio.dev/trigger_logs).

<Frame caption="Trigger logs" background="subtle">
  <img src="../../../assets/images/trigger-debug.png" alt="Trigger logs" />
</Frame>