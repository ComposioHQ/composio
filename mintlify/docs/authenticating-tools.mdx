---
title: "Authenticating Tools"
description: "Learn how to authenticate tools for different apps"
---

Different apps (like Slack, Notion, Shopify) have their own authentication flows that users must complete to grant access to their accounts. Agents need authenticated access to these tools to perform actions on behalf of users.

## Creating an auth config

Each toolkit comes with its own *auth config*.
This configuration is used to authenticate the users to the tools.

The first step is to create an auth config for any toolkit that you want to use.

<Note>
  ### Auth configs are reusable

  The appropriate developer credentials and app level configurations like scopes, API endpoints, etc. are scoped to an auth config.

  Once created, it's reusable across multiple users.
</Note>

The dashboard offers a guided process for all app types.

<Steps>
  <Step title="Select App">
    Navigate to the [Apps page](https://app.composio.dev/apps) and choose the app you want to integrate (for example, Google Sheets).

    <Frame>
      <img src="https://prod.ferndocs.com/_next/image?url=https%3A%2F%2Ffiles.buildwithfern.com%2Fv3composio.docs.buildwithfern.com%2F2025-07-24T17%3A44%3A39.023Z%2Fassets%2Fimages%2Fintegration-step-1-0.png&w=3840&q=75" />
    </Frame>
  </Step>

  <Step title="Initiate Setup">
    Click the **"Setup Integration"** button.

    <Frame>
      <img src="https://prod.ferndocs.com/_next/image?url=https%3A%2F%2Ffiles.buildwithfern.com%2Fv3composio.docs.buildwithfern.com%2F2025-07-24T17%3A44%3A39.023Z%2Fassets%2Fimages%2Fintegration-step-2-0.png&w=3840&q=75" />
    </Frame>
  </Step>

  <Step title="Configure Auth Config Settings">
    Select among the supported auth schemes of OAuth2, API Key, Bearer Token, Basic Auth, depending on the toolkit.
    Switch between the auth schemes and configure the scopes, developer credentials, etc here.

    <Note>
      ### Composio Managed Auth

      You may also choose to use Composio's managed auth for certain toolkits or use your own auth credentials.
      It is recommended to specify your own credentials for production workloads and ability to control scopes, etc.
    </Note>

    <Frame>
      <img src="https://prod.ferndocs.com/_next/image?url=https%3A%2F%2Ffiles.buildwithfern.com%2Fv3composio.docs.buildwithfern.com%2F2025-07-24T17%3A44%3A39.023Z%2Fassets%2Fimages%2Fauth-config-creation.png&w=3840&q=75" />
    </Frame>
  </Step>

  <Step title="Create and Get auth config ID">
    Click **"Create Integration"**. After creation, **copy the displayed ID starting with `ac_`**. This is your auth config ID. This is *not* a sensitive ID -- you can save it in environment variables or a database.
    **This ID will be used to create connections to the toolkit for a given user.**
  </Step>
</Steps>

<Card title="Programmatic creation" href="https://docs.composio.dev/docs/programmatic-auth-configs" icon="code">
  In case of dealing with multiple toolkits across different projects, you can create auth configs
  programmatically.
</Card>

## Connecting to an OAuth toolkit

Here's how to authenticate a toolkit for a given user using the OAuth flow.

<CodeGroup>
  ```python Python lines
  from composio import Composio
  from composio.types import auth_scheme

  linear_auth_config_id = "ac_dqYN9oElNVlg"
  user_id = "0000-1111-2222"
  composio = Composio()

  # Create a new connected account
  connection_request = composio.connected_accounts.initiate(
      user_id=user_id, auth_config_id=linear_auth_config_id, config={"auth_scheme": "OAUTH2"}
  )
  print(connection_request.redirect_url)

  # Wait for the connection to be established
  connected_account = connection_request.wait_for_connection()

  # If you only have the connection request ID, you can also wait using:

  connected_account = composio.connected_accounts.wait_for_connection(connection_request.id)
  # Recommended for when connection_request object is destroyed

  ```

  ```typescript TypeScript lines
  import { Composio } from '@composio/core';

  const composio = new Composio();
  const linearAuthConfigId = 'ac_dqYN9oElNVlg';

  const userId = '1111-2222-3333';

  // Initiate the OAuth connection request
  const connRequest = await composio.connectedAccounts.initiate(userId, linearAuthConfigId);

  // Destructure redirectUrl for easier access
  const { redirectUrl, id } = connRequest;
  console.log(redirectUrl);

  // Wait for the connection to be established
  await connRequest.waitForConnection();

  // If you only have the connection request ID, you can also wait using:
  // Recommended for when connRequest object is destroyed
  await composio.connectedAccounts.waitForConnection(id);

  ```
</CodeGroup>

## Connecting to an API Key toolkit

For API key based toolkits, you can either request the user to provide the API key or provide your own!

### Creating the connection

If you know the required authentication fields for your toolkit (like `apiKey` for most API-based services), you can directly create the connection:

<CodeGroup>
  ```python Python lines
  # from composio.types import auth_scheme
  serp_auth_config_id = "ac_VWmFEC55Zgv6"

  # Retrieved from the user
  user_api_key = "sk_1234567890"

  connection_request = composio.connected_accounts.initiate(
      user_id=user_id,
      auth_config_id=serp_auth_config_id,
      config={"auth_scheme": "API_KEY", "val": user_api_key},
  )

  ```

  ```typescript TypeScript lines
  import { AuthScheme } from '@composio/core';
  const serpAuthConfigId = 'ac_VWmFEC55Zgv6';

  // Retrieved from the user
  const userApiKey = 'sk_1234567890';

  const serpConnectionRequest = await composio.connectedAccounts.initiate(userId, serpAuthConfigId, {
    config: AuthScheme.APIKey({
      api_key: userApiKey,
    }),
  });

  console.log(JSON.stringify(serpConnectionRequest, null, 2));

  ```
</CodeGroup>

## Specifying auth schemes

Composio supports a wide range of auth schemes; OAuth2, API Key, HTTP Basic and many more.
Each app (and toolkit) has different connection options required for each auth scheme. For example;

* Shopify requires an *API key* from each user for the API Key auth scheme.
* Airtable requires the Bearer token from each user for the *Bearer* auth scheme.

The auth scheme information is typed and can be configured as follows:

<CodeGroup>
  ```python Python lines
  # Auth scheme config for Airtable Bearer
  # from composio.types import auth_scheme
  airtable_auth_config_id = "ac_1234567"

  # Retrieved from user
  user_bearer_token = "1234567890"

  airtable_connection_req = composio.connected_accounts.initiate(
      user_id=user_id,
      auth_config_id=airtable_auth_config_id,
  ```

  ```typescript TypeScript lines
  // Auth scheme for Airtable Bearer
  import { AuthScheme } from '@composio/core';
  const airtableAuthConfigId = 'ac_1234567890';

  // Retrieved from the user
  const userBearerToken = '1234567890';

  const airtableConnectionRequest = await composio.connectedAccounts.initiate(
    userId, airtableAuthConfigId, {
    config: AuthScheme.BearerToken({
      token: userBearerToken,
    }),
  });
  ```
</CodeGroup>

It might be useful to read all the optional and required auth config fields for a toolkit and optionally prompt the user for the values.

## Redirecting users

To control where the users are redirected after they have authenticated, you can use the `redirectUrl` parameter in the `initiate` method.
In this case, the user will be redirected to `https://www.yourapp.com/callback` after they have authenticated.

<CodeGroup>
  ```python Python lines
  connection_request = composio.connected_accounts.initiate(
      user_id=user_id, auth_config_id=linear_auth_config_id, config=auth_scheme.oauth2()
  )
  print(connection_request.redirect_url)

  # Wait for the connection to be established
  connected_account = connection_request.wait_for_connection()
  ```

  ```typescript TypeScript lines
  const connRequest = await composio.connectedAccounts.initiate(
    userId,
    linearAuthConfigId,
    {
      callbackUrl: 'https://www.yourapp.com/callback',
    }
  );

  console.log(connRequest.redirectUrl);

  await connRequest.waitForConnection();
  ```
</CodeGroup>
