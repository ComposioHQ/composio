+ source /opt/miniconda3/bin/activate
++ _CONDA_ROOT=/opt/miniconda3
++ . /opt/miniconda3/etc/profile.d/conda.sh
+++ export CONDA_EXE=/opt/miniconda3/bin/conda
+++ CONDA_EXE=/opt/miniconda3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ '[' -z '' ']'
+++ export CONDA_SHLVL=0
+++ CONDA_SHLVL=0
+++ '[' -n '' ']'
+++++ dirname /opt/miniconda3/bin/conda
++++ dirname /opt/miniconda3/bin
+++ PATH=/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ export PATH
+++ '[' -z '' ']'
+++ PS1=
++ conda activate
++ local cmd=activate
++ case "$cmd" in
++ __conda_activate activate
++ '[' -n '' ']'
++ local ask_conda
+++ PS1=
+++ __conda_exe shell.posix activate
+++ /opt/miniconda3/bin/conda shell.posix activate
++ ask_conda='PS1='\''(base) '\''
export PATH='\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3'\''
export CONDA_SHLVL='\''1'\''
export CONDA_DEFAULT_ENV='\''base'\''
export CONDA_PROMPT_MODIFIER='\''(base) '\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
++ eval 'PS1='\''(base) '\''
export PATH='\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3'\''
export CONDA_SHLVL='\''1'\''
export CONDA_DEFAULT_ENV='\''base'\''
export CONDA_PROMPT_MODIFIER='\''(base) '\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
+++ PS1='(base) '
+++ export PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ export CONDA_PREFIX=/opt/miniconda3
+++ CONDA_PREFIX=/opt/miniconda3
+++ export CONDA_SHLVL=1
+++ CONDA_SHLVL=1
+++ export CONDA_DEFAULT_ENV=base
+++ CONDA_DEFAULT_ENV=base
+++ export 'CONDA_PROMPT_MODIFIER=(base) '
+++ CONDA_PROMPT_MODIFIER='(base) '
+++ export CONDA_EXE=/opt/miniconda3/bin/conda
+++ CONDA_EXE=/opt/miniconda3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
++ __conda_hashr
++ '[' -n '' ']'
++ '[' -n '' ']'
++ hash -r
+ conda activate testbed
+ local cmd=activate
+ case "$cmd" in
+ __conda_activate activate testbed
+ '[' -n '' ']'
+ local ask_conda
++ PS1='(base) '
++ __conda_exe shell.posix activate testbed
++ /opt/miniconda3/bin/conda shell.posix activate testbed
+ ask_conda='PS1='\''(testbed) '\''
export PATH='\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3/envs/testbed'\''
export CONDA_SHLVL='\''2'\''
export CONDA_DEFAULT_ENV='\''testbed'\''
export CONDA_PROMPT_MODIFIER='\''(testbed) '\''
export CONDA_PREFIX_1='\''/opt/miniconda3'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
+ eval 'PS1='\''(testbed) '\''
export PATH='\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3/envs/testbed'\''
export CONDA_SHLVL='\''2'\''
export CONDA_DEFAULT_ENV='\''testbed'\''
export CONDA_PROMPT_MODIFIER='\''(testbed) '\''
export CONDA_PREFIX_1='\''/opt/miniconda3'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
++ PS1='(testbed) '
++ export PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ export CONDA_PREFIX=/opt/miniconda3/envs/testbed
++ CONDA_PREFIX=/opt/miniconda3/envs/testbed
++ export CONDA_SHLVL=2
++ CONDA_SHLVL=2
++ export CONDA_DEFAULT_ENV=testbed
++ CONDA_DEFAULT_ENV=testbed
++ export 'CONDA_PROMPT_MODIFIER=(testbed) '
++ CONDA_PROMPT_MODIFIER='(testbed) '
++ export CONDA_PREFIX_1=/opt/miniconda3
++ CONDA_PREFIX_1=/opt/miniconda3
++ export CONDA_EXE=/opt/miniconda3/bin/conda
++ CONDA_EXE=/opt/miniconda3/bin/conda
++ export _CE_M=
++ _CE_M=
++ export _CE_CONDA=
++ _CE_CONDA=
++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+ __conda_hashr
+ '[' -n '' ']'
+ '[' -n '' ']'
+ hash -r
+ cd /testbed
+ git config --global --add safe.directory /testbed
+ cd /testbed
+ git status
On branch main
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   django/contrib/sitemaps/__init__.py

no changes added to commit (use "git add" and/or "git commit -a")
+ git show
commit 444b6da7cc229a58a2c476a52e45233001dc7073
Author: Adam Johnson <me@adamj.eu>
Date:   Wed Oct 12 09:25:04 2022 +0100

    Refs #33939 -- Improved transaction.on_commit() docs.

diff --git a/docs/topics/db/transactions.txt b/docs/topics/db/transactions.txt
index 004f8351b8..d0b67b86f4 100644
--- a/docs/topics/db/transactions.txt
+++ b/docs/topics/db/transactions.txt
@@ -290,45 +290,47 @@ Performing actions after commit
 
 Sometimes you need to perform an action related to the current database
 transaction, but only if the transaction successfully commits. Examples might
-include a `Celery`_ task, an email notification, or a cache invalidation.
+include a background task, an email notification, or a cache invalidation.
 
-.. _Celery: https://pypi.org/project/celery/
-
-Django provides the :func:`on_commit` function to register callback functions
-that should be executed after a transaction is successfully committed:
+:func:`on_commit` allows you to register callbacks that will be executed after
+the open transaction is successfully committed:
 
 .. function:: on_commit(func, using=None, robust=False)
 
-Pass any function (that takes no arguments) to :func:`on_commit`::
+Pass a function, or any callable, to :func:`on_commit`::
 
     from django.db import transaction
 
-    def do_something():
-        pass  # send a mail, invalidate a cache, fire off a Celery task, etc.
+    def send_welcome_email():
+        ...
 
-    transaction.on_commit(do_something)
+    transaction.on_commit(send_welcome_email)
 
-You can also bind arguments to your function using :func:`functools.partial`::
+Callbacks will not be passed any arguments, but you can bind them with
+:func:`functools.partial`::
 
     from functools import partial
 
-    transaction.on_commit(partial(some_celery_task.delay, 'arg1'))
+    for user in users:
+        transaction.on_commit(
+            partial(send_invite_email, user=user)
+        )
 
-The function you pass in will be called immediately after a hypothetical
-database write made where ``on_commit()`` is called would be successfully
-committed.
+Callbacks are called after the open transaction is successfully committed. If
+the transaction is instead rolled back (typically when an unhandled exception
+is raised in an :func:`atomic` block), the callback will be discarded, and
+never called.
 
-If you call ``on_commit()`` while there isn't an active transaction, the
-callback will be executed immediately.
+If you call ``on_commit()`` while there isn't an open transaction,
+the callback will be executed immediately.
 
-If that hypothetical database write is instead rolled back (typically when an
-unhandled exception is raised in an :func:`atomic` block), your function will
-be discarded and never called.
+It's sometimes useful to register callbacks that can fail. Passing
+``robust=True`` allows the next callbacks to be executed even if the current
+one throws an exception. All errors derived from Python's ``Exception`` class
+are caught and logged to the ``django.db.backends.base`` logger.
 
-It's sometimes useful to register callback functions that can fail. Passing
-``robust=True`` allows the next functions to be executed even if the current
-function throws an exception. All errors derived from Python's ``Exception``
-class are caught and logged to the ``django.db.backends.base`` logger.
+You can use :meth:`.TestCase.captureOnCommitCallbacks` to test callbacks
+registered with :func:`on_commit`.
 
 .. versionchanged:: 4.2
 
@@ -390,8 +392,8 @@ Timing of execution
 Your callbacks are executed *after* a successful commit, so a failure in a
 callback will not cause the transaction to roll back. They are executed
 conditionally upon the success of the transaction, but they are not *part* of
-the transaction. For the intended use cases (mail notifications, Celery tasks,
-etc.), this should be fine. If it's not (if your follow-up action is so
+the transaction. For the intended use cases (mail notifications, background
+tasks, etc.), this should be fine. If it's not (if your follow-up action is so
 critical that its failure should mean the failure of the transaction itself),
 then you don't want to use the :func:`on_commit` hook. Instead, you may want
 `two-phase commit`_ such as the :ref:`psycopg Two-Phase Commit protocol support
+ git diff 444b6da7cc229a58a2c476a52e45233001dc7073
diff --git a/django/contrib/sitemaps/__init__.py b/django/contrib/sitemaps/__init__.py
index 27756d9d96..298d2f8259 100644
--- a/django/contrib/sitemaps/__init__.py
+++ b/django/contrib/sitemaps/__init__.py
@@ -162,16 +162,16 @@ class Sitemap:
         domain = self.get_domain(site)
         return self._urls(page, protocol, domain)
 
-    def get_latest_lastmod(self):
-        if not hasattr(self, "lastmod"):
+def get_latest_lastmod(self):
+    if not hasattr(self, "lastmod"):
+        return None
+    if callable(self.lastmod):
+        try:
+            return max([self.lastmod(item) for item in self.items()])
+        except (TypeError, ValueError):
             return None
-        if callable(self.lastmod):
-            try:
-                return max([self.lastmod(item) for item in self.items()])
-            except TypeError:
-                return None
-        else:
-            return self.lastmod
+    else:
+        return self.lastmod
 
     def _urls(self, page, protocol, domain):
         urls = []
+ source /opt/miniconda3/bin/activate
++ _CONDA_ROOT=/opt/miniconda3
++ . /opt/miniconda3/etc/profile.d/conda.sh
+++ export CONDA_EXE=/opt/miniconda3/bin/conda
+++ CONDA_EXE=/opt/miniconda3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ '[' -z x ']'
++ conda activate
++ local cmd=activate
++ case "$cmd" in
++ __conda_activate activate
++ '[' -n '' ']'
++ local ask_conda
+++ PS1='(testbed) '
+++ __conda_exe shell.posix activate
+++ /opt/miniconda3/bin/conda shell.posix activate
++ ask_conda='PS1='\''(base) '\''
export PATH='\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3'\''
export CONDA_SHLVL='\''3'\''
export CONDA_DEFAULT_ENV='\''base'\''
export CONDA_PROMPT_MODIFIER='\''(base) '\''
export CONDA_PREFIX_2='\''/opt/miniconda3/envs/testbed'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
++ eval 'PS1='\''(base) '\''
export PATH='\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3'\''
export CONDA_SHLVL='\''3'\''
export CONDA_DEFAULT_ENV='\''base'\''
export CONDA_PROMPT_MODIFIER='\''(base) '\''
export CONDA_PREFIX_2='\''/opt/miniconda3/envs/testbed'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
+++ PS1='(base) '
+++ export PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ export CONDA_PREFIX=/opt/miniconda3
+++ CONDA_PREFIX=/opt/miniconda3
+++ export CONDA_SHLVL=3
+++ CONDA_SHLVL=3
+++ export CONDA_DEFAULT_ENV=base
+++ CONDA_DEFAULT_ENV=base
+++ export 'CONDA_PROMPT_MODIFIER=(base) '
+++ CONDA_PROMPT_MODIFIER='(base) '
+++ export CONDA_PREFIX_2=/opt/miniconda3/envs/testbed
+++ CONDA_PREFIX_2=/opt/miniconda3/envs/testbed
+++ export CONDA_EXE=/opt/miniconda3/bin/conda
+++ CONDA_EXE=/opt/miniconda3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
++ __conda_hashr
++ '[' -n '' ']'
++ '[' -n '' ']'
++ hash -r
+ conda activate testbed
+ local cmd=activate
+ case "$cmd" in
+ __conda_activate activate testbed
+ '[' -n '' ']'
+ local ask_conda
++ PS1='(base) '
++ __conda_exe shell.posix activate testbed
++ /opt/miniconda3/bin/conda shell.posix activate testbed
+ ask_conda='PS1='\''(testbed) '\''
export PATH='\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3/envs/testbed'\''
export CONDA_SHLVL='\''4'\''
export CONDA_DEFAULT_ENV='\''testbed'\''
export CONDA_PROMPT_MODIFIER='\''(testbed) '\''
export CONDA_PREFIX_3='\''/opt/miniconda3'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
+ eval 'PS1='\''(testbed) '\''
export PATH='\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3/envs/testbed'\''
export CONDA_SHLVL='\''4'\''
export CONDA_DEFAULT_ENV='\''testbed'\''
export CONDA_PROMPT_MODIFIER='\''(testbed) '\''
export CONDA_PREFIX_3='\''/opt/miniconda3'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
++ PS1='(testbed) '
++ export PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ export CONDA_PREFIX=/opt/miniconda3/envs/testbed
++ CONDA_PREFIX=/opt/miniconda3/envs/testbed
++ export CONDA_SHLVL=4
++ CONDA_SHLVL=4
++ export CONDA_DEFAULT_ENV=testbed
++ CONDA_DEFAULT_ENV=testbed
++ export 'CONDA_PROMPT_MODIFIER=(testbed) '
++ CONDA_PROMPT_MODIFIER='(testbed) '
++ export CONDA_PREFIX_3=/opt/miniconda3
++ CONDA_PREFIX_3=/opt/miniconda3
++ export CONDA_EXE=/opt/miniconda3/bin/conda
++ CONDA_EXE=/opt/miniconda3/bin/conda
++ export _CE_M=
++ _CE_M=
++ export _CE_CONDA=
++ _CE_CONDA=
++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+ __conda_hashr
+ '[' -n '' ']'
+ '[' -n '' ']'
+ hash -r
+ python -m pip install -e .
Obtaining file:///testbed
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Checking if build backend supports build_editable: started
  Checking if build backend supports build_editable: finished with status 'done'
  Getting requirements to build editable: started
  Getting requirements to build editable: finished with status 'done'
  Preparing editable metadata (pyproject.toml): started
  Preparing editable metadata (pyproject.toml): finished with status 'done'
Requirement already satisfied: asgiref>=3.5.2 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Django==4.2.dev20221104112025) (3.8.1)
Requirement already satisfied: sqlparse>=0.2.2 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from Django==4.2.dev20221104112025) (0.5.1)
Requirement already satisfied: typing-extensions>=4 in /opt/miniconda3/envs/testbed/lib/python3.9/site-packages (from asgiref>=3.5.2->Django==4.2.dev20221104112025) (4.12.2)
Building wheels for collected packages: Django
  Building editable for Django (pyproject.toml): started
  Building editable for Django (pyproject.toml): finished with status 'done'
  Created wheel for Django: filename=Django-4.2.dev20221104112025-0.editable-py3-none-any.whl size=27225 sha256=214ac63ec91a6d867374354420725933c2365aa582abed2a1459c5b11ffc40d8
  Stored in directory: /tmp/pip-ephem-wheel-cache-37xaw0sp/wheels/7d/66/67/70d1ee2124ccf21d601c352e25cdca10f611f7c8b3f9ffb9e4
Successfully built Django
Installing collected packages: Django
  Attempting uninstall: Django
    Found existing installation: Django 4.2.dev20221104112025
    Uninstalling Django-4.2.dev20221104112025:
      Successfully uninstalled Django-4.2.dev20221104112025
Successfully installed Django-4.2.dev20221104112025
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
+ git checkout 444b6da7cc229a58a2c476a52e45233001dc7073 tests/sitemaps_tests/test_http.py tests/sitemaps_tests/urls/http.py
Updated 0 paths from 71c4678e3b
+ git apply -v -
Checking patch tests/sitemaps_tests/test_http.py...
Checking patch tests/sitemaps_tests/urls/http.py...
Applied patch tests/sitemaps_tests/test_http.py cleanly.
Applied patch tests/sitemaps_tests/urls/http.py cleanly.
+ ./tests/runtests.py --verbosity 2 --settings=test_sqlite --parallel 1 sitemaps_tests.test_http sitemaps_tests.urls.http
Creating test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...
Testing against Django installed in '/testbed/django'
Importing application sitemaps_tests
Found 40 test(s).
Skipping setup of unused database(s): other.
Operations to perform:
  Synchronize unmigrated apps: auth, contenttypes, messages, sessions, sitemaps_tests, staticfiles
  Apply all migrations: admin, sites
Synchronizing apps without migrations:
  Creating tables...
    Creating table django_content_type
    Creating table auth_permission
    Creating table auth_group
    Creating table auth_user
    Creating table django_session
    Creating table sitemaps_tests_testmodel
    Creating table sitemaps_tests_i18ntestmodel
    Running deferred SQL...
Running migrations:
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying sites.0001_initial... OK
  Applying sites.0002_alter_domain_unique... OK
System check identified no issues (0 silenced).
test_simple_sitemap_custom_index (sitemaps_tests.test_http.DeprecatedTests)
A simple sitemap index can be rendered with a custom template ... ERROR
test_simple_sitemap_custom_index_warning (sitemaps_tests.test_http.DeprecatedTests) ... ERROR
test_alternate_i18n_sitemap_index (sitemaps_tests.test_http.HTTPSitemapTests)
A i18n sitemap with alternate/hreflang links can be rendered. ... ERROR
test_alternate_i18n_sitemap_limited (sitemaps_tests.test_http.HTTPSitemapTests)
A i18n sitemap index with limited languages can be rendered. ... ERROR
test_alternate_i18n_sitemap_xdefault (sitemaps_tests.test_http.HTTPSitemapTests)
A i18n sitemap index with x-default can be rendered. ... ERROR
test_cached_sitemap_index (sitemaps_tests.test_http.HTTPSitemapTests)
A cached sitemap index can be rendered (#2713). ... ERROR
test_callable_sitemod_full (sitemaps_tests.test_http.HTTPSitemapTests)
All items in the sitemap have `lastmod`. The `Last-Modified` header ... ERROR
test_callable_sitemod_no_items (sitemaps_tests.test_http.HTTPSitemapTests) ... ERROR
test_callable_sitemod_partial (sitemaps_tests.test_http.HTTPSitemapTests)
Not all items have `lastmod`. Therefore the `Last-Modified` header ... ERROR
test_empty_page (sitemaps_tests.test_http.HTTPSitemapTests) ... ERROR
test_empty_sitemap (sitemaps_tests.test_http.HTTPSitemapTests) ... ERROR
test_localized_priority (sitemaps_tests.test_http.HTTPSitemapTests)
The priority value should not be localized. ... ERROR
test_no_section (sitemaps_tests.test_http.HTTPSitemapTests) ... ok
test_page_not_int (sitemaps_tests.test_http.HTTPSitemapTests) ... ERROR
test_paged_sitemap (sitemaps_tests.test_http.HTTPSitemapTests)
A sitemap may have multiple pages. ... ERROR
test_requestsite_sitemap (sitemaps_tests.test_http.HTTPSitemapTests) ... ERROR
test_simple_custom_sitemap (sitemaps_tests.test_http.HTTPSitemapTests)
A simple sitemap can be rendered with a custom template ... ERROR
test_simple_i18n_sitemap_index (sitemaps_tests.test_http.HTTPSitemapTests)
A simple i18n sitemap index can be rendered, without logging variable ... ERROR
test_simple_sitemap (sitemaps_tests.test_http.HTTPSitemapTests)
A simple sitemap can be rendered ... ERROR
test_simple_sitemap_custom_lastmod_index (sitemaps_tests.test_http.HTTPSitemapTests)
A simple sitemap index can be rendered with a custom template ... ERROR
test_simple_sitemap_index (sitemaps_tests.test_http.HTTPSitemapTests)
A simple sitemap index can be rendered ... ERROR
test_simple_sitemap_section (sitemaps_tests.test_http.HTTPSitemapTests)
A simple sitemap section can be rendered ... ERROR
test_sitemap_get_latest_lastmod (sitemaps_tests.test_http.HTTPSitemapTests)
sitemapindex.lastmod is included when Sitemap.lastmod is ... ok
test_sitemap_get_latest_lastmod_none (sitemaps_tests.test_http.HTTPSitemapTests)
sitemapindex.lastmod is omitted when Sitemap.lastmod is ... ok
test_sitemap_get_urls_no_site_1 (sitemaps_tests.test_http.HTTPSitemapTests)
Check we get ImproperlyConfigured if we don't pass a site object to ... ok
test_sitemap_get_urls_no_site_2 (sitemaps_tests.test_http.HTTPSitemapTests)
Check we get ImproperlyConfigured when we don't pass a site object to ... ok
test_sitemap_item (sitemaps_tests.test_http.HTTPSitemapTests)
Check to make sure that the raw item is included with each ... ERROR
test_sitemap_last_modified (sitemaps_tests.test_http.HTTPSitemapTests)
Last-Modified header is set correctly ... ERROR
test_sitemap_last_modified_date (sitemaps_tests.test_http.HTTPSitemapTests)
The Last-Modified header should be support dates (without time). ... ERROR
test_sitemap_last_modified_missing (sitemaps_tests.test_http.HTTPSitemapTests)
Last-Modified header is missing when sitemap has no lastmod ... ERROR
test_sitemap_last_modified_mixed (sitemaps_tests.test_http.HTTPSitemapTests)
Last-Modified header is omitted when lastmod not on all items ... ERROR
test_sitemap_last_modified_tz (sitemaps_tests.test_http.HTTPSitemapTests)
The Last-Modified header should be converted from timezone aware dates ... ERROR
test_sitemap_latest_lastmod_timezone (sitemaps_tests.test_http.HTTPSitemapTests)
lastmod datestamp shows timezones if Sitemap.get_latest_lastmod ... ERROR
test_sitemap_not_callable (sitemaps_tests.test_http.HTTPSitemapTests)
A sitemap may not be callable. ... ERROR
test_sitemap_without_entries (sitemaps_tests.test_http.HTTPSitemapTests) ... ok
test_sitemaps_lastmod_ascending (sitemaps_tests.test_http.HTTPSitemapTests)
The Last-Modified header is set to the most recent sitemap lastmod. ... ERROR
test_sitemaps_lastmod_descending (sitemaps_tests.test_http.HTTPSitemapTests)
The Last-Modified header is set to the most recent sitemap lastmod. ... ERROR
test_sitemaps_lastmod_mixed_ascending_last_modified_missing (sitemaps_tests.test_http.HTTPSitemapTests)
The Last-Modified header is omitted when lastmod isn't found in all ... ERROR
test_sitemaps_lastmod_mixed_descending_last_modified_missing (sitemaps_tests.test_http.HTTPSitemapTests)
The Last-Modified header is omitted when lastmod isn't found in all ... ERROR
test_x_robots_sitemap (sitemaps_tests.test_http.HTTPSitemapTests) ... ERROR

======================================================================
ERROR: test_simple_sitemap_custom_index (sitemaps_tests.test_http.DeprecatedTests)
A simple sitemap index can be rendered with a custom template
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/django/test/utils.py", line 460, in inner
    return func(*args, **kwargs)
  File "/testbed/django/test/utils.py", line 460, in inner
    return func(*args, **kwargs)
  File "/testbed/tests/sitemaps_tests/test_http.py", line 550, in test_simple_sitemap_custom_index
    response = self.client.get("/simple/custom-index.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 76, in index
    site_lastmod = site.get_latest_lastmod()
AttributeError: 'SimpleSitemap' object has no attribute 'get_latest_lastmod'

======================================================================
ERROR: test_simple_sitemap_custom_index_warning (sitemaps_tests.test_http.DeprecatedTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/django/test/utils.py", line 460, in inner
    return func(*args, **kwargs)
  File "/testbed/tests/sitemaps_tests/test_http.py", line 537, in test_simple_sitemap_custom_index_warning
    self.client.get("/simple/custom-index.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 76, in index
    site_lastmod = site.get_latest_lastmod()
AttributeError: 'SimpleSitemap' object has no attribute 'get_latest_lastmod'

======================================================================
ERROR: test_alternate_i18n_sitemap_index (sitemaps_tests.test_http.HTTPSitemapTests)
A i18n sitemap with alternate/hreflang links can be rendered.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/django/test/utils.py", line 460, in inner
    return func(*args, **kwargs)
  File "/testbed/tests/sitemaps_tests/test_http.py", line 360, in test_alternate_i18n_sitemap_index
    response = self.client.get("/alternates/i18n.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'AlternatesI18nSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_alternate_i18n_sitemap_limited (sitemaps_tests.test_http.HTTPSitemapTests)
A i18n sitemap index with limited languages can be rendered.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/django/test/utils.py", line 460, in inner
    return func(*args, **kwargs)
  File "/testbed/tests/sitemaps_tests/test_http.py", line 390, in test_alternate_i18n_sitemap_limited
    response = self.client.get("/limited/i18n.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'LimitedI18nSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_alternate_i18n_sitemap_xdefault (sitemaps_tests.test_http.HTTPSitemapTests)
A i18n sitemap index with x-default can be rendered.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/django/test/utils.py", line 460, in inner
    return func(*args, **kwargs)
  File "/testbed/tests/sitemaps_tests/test_http.py", line 418, in test_alternate_i18n_sitemap_xdefault
    response = self.client.get("/x-default/i18n.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'XDefaultI18nSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_cached_sitemap_index (sitemaps_tests.test_http.HTTPSitemapTests)
A cached sitemap index can be rendered (#2713).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 314, in test_cached_sitemap_index
    response = self.client.get("/cached/index.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/utils/decorators.py", line 133, in _wrapper_view
    response = view_func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 76, in index
    site_lastmod = site.get_latest_lastmod()
AttributeError: 'SimpleSitemap' object has no attribute 'get_latest_lastmod'

======================================================================
ERROR: test_callable_sitemod_full (sitemaps_tests.test_http.HTTPSitemapTests)
All items in the sitemap have `lastmod`. The `Last-Modified` header
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 484, in test_callable_sitemod_full
    index_response = self.client.get("/callable-lastmod-full/index.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 76, in index
    site_lastmod = site.get_latest_lastmod()
AttributeError: 'CallableLastmodFullSitemap' object has no attribute 'get_latest_lastmod'

======================================================================
ERROR: test_callable_sitemod_no_items (sitemaps_tests.test_http.HTTPSitemapTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 511, in test_callable_sitemod_no_items
    index_response = self.client.get("/callable-lastmod-no-items/index.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 76, in index
    site_lastmod = site.get_latest_lastmod()
AttributeError: 'CallableLastmodNoItemsSitemap' object has no attribute 'get_latest_lastmod'

======================================================================
ERROR: test_callable_sitemod_partial (sitemaps_tests.test_http.HTTPSitemapTests)
Not all items have `lastmod`. Therefore the `Last-Modified` header
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 458, in test_callable_sitemod_partial
    index_response = self.client.get("/callable-lastmod-partial/index.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 76, in index
    site_lastmod = site.get_latest_lastmod()
AttributeError: 'CallableLastmodPartialSitemap' object has no attribute 'get_latest_lastmod'

======================================================================
ERROR: test_empty_page (sitemaps_tests.test_http.HTTPSitemapTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 107, in test_empty_page
    response = self.client.get("/simple/sitemap-simple.xml?p=0")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'SimpleSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_empty_sitemap (sitemaps_tests.test_http.HTTPSitemapTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 333, in test_empty_sitemap
    response = self.client.get("/empty/sitemap.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'EmptySitemap' object has no attribute '_urls'

======================================================================
ERROR: test_localized_priority (sitemaps_tests.test_http.HTTPSitemapTests)
The priority value should not be localized.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 255, in test_localized_priority
    response = self.client.get("/simple/sitemap.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'SimpleSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_page_not_int (sitemaps_tests.test_http.HTTPSitemapTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 112, in test_page_not_int
    response = self.client.get("/simple/sitemap-simple.xml?p=test")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'SimpleSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_paged_sitemap (sitemaps_tests.test_http.HTTPSitemapTests)
A sitemap may have multiple pages.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 50, in test_paged_sitemap
    response = self.client.get("/simple-paged/index.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 76, in index
    site_lastmod = site.get_latest_lastmod()
AttributeError: 'SimplePagedSitemap' object has no attribute 'get_latest_lastmod'

======================================================================
ERROR: test_requestsite_sitemap (sitemaps_tests.test_http.HTTPSitemapTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/django/test/utils.py", line 460, in inner
    return func(*args, **kwargs)
  File "/testbed/tests/sitemaps_tests/test_http.py", line 263, in test_requestsite_sitemap
    response = self.client.get("/simple/sitemap.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'SimpleSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_simple_custom_sitemap (sitemaps_tests.test_http.HTTPSitemapTests)
A simple sitemap can be rendered with a custom template
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/django/test/utils.py", line 460, in inner
    return func(*args, **kwargs)
  File "/testbed/tests/sitemaps_tests/test_http.py", line 142, in test_simple_custom_sitemap
    response = self.client.get("/simple/custom-sitemap.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'SimpleSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_simple_i18n_sitemap_index (sitemaps_tests.test_http.HTTPSitemapTests)
A simple i18n sitemap index can be rendered, without logging variable
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/django/test/utils.py", line 460, in inner
    return func(*args, **kwargs)
  File "/testbed/tests/sitemaps_tests/test_http.py", line 343, in test_simple_i18n_sitemap_index
    response = self.client.get("/simple/i18n.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'SimpleI18nSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_simple_sitemap (sitemaps_tests.test_http.HTTPSitemapTests)
A simple sitemap can be rendered
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 118, in test_simple_sitemap
    response = self.client.get("/simple/sitemap.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'SimpleSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_simple_sitemap_custom_lastmod_index (sitemaps_tests.test_http.HTTPSitemapTests)
A simple sitemap index can be rendered with a custom template
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/django/test/utils.py", line 460, in inner
    return func(*args, **kwargs)
  File "/testbed/tests/sitemaps_tests/test_http.py", line 70, in test_simple_sitemap_custom_lastmod_index
    response = self.client.get("/simple/custom-lastmod-index.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 76, in index
    site_lastmod = site.get_latest_lastmod()
AttributeError: 'SimpleSitemap' object has no attribute 'get_latest_lastmod'

======================================================================
ERROR: test_simple_sitemap_index (sitemaps_tests.test_http.HTTPSitemapTests)
A simple sitemap index can be rendered
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 24, in test_simple_sitemap_index
    response = self.client.get("/simple/index.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 76, in index
    site_lastmod = site.get_latest_lastmod()
AttributeError: 'SimpleSitemap' object has no attribute 'get_latest_lastmod'

======================================================================
ERROR: test_simple_sitemap_section (sitemaps_tests.test_http.HTTPSitemapTests)
A simple sitemap section can be rendered
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 84, in test_simple_sitemap_section
    response = self.client.get("/simple/sitemap-simple.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'SimpleSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_sitemap_item (sitemaps_tests.test_http.HTTPSitemapTests)
Check to make sure that the raw item is included with each
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/django/test/utils.py", line 460, in inner
    return func(*args, **kwargs)
  File "/testbed/tests/sitemaps_tests/test_http.py", line 307, in test_sitemap_item
    item_in_url_info = all(map(is_testmodel, test_sitemap.get_urls()))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'Sitemap' object has no attribute '_urls'

======================================================================
ERROR: test_sitemap_last_modified (sitemaps_tests.test_http.HTTPSitemapTests)
Last-Modified header is set correctly
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 156, in test_sitemap_last_modified
    response = self.client.get("/lastmod/sitemap.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'FixedLastmodSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_sitemap_last_modified_date (sitemaps_tests.test_http.HTTPSitemapTests)
The Last-Modified header should be support dates (without time).
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 165, in test_sitemap_last_modified_date
    response = self.client.get("/lastmod/date-sitemap.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'DateSiteMap' object has no attribute '_urls'

======================================================================
ERROR: test_sitemap_last_modified_missing (sitemaps_tests.test_http.HTTPSitemapTests)
Last-Modified header is missing when sitemap has no lastmod
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 182, in test_sitemap_last_modified_missing
    response = self.client.get("/generic/sitemap.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'GenericSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_sitemap_last_modified_mixed (sitemaps_tests.test_http.HTTPSitemapTests)
Last-Modified header is omitted when lastmod not on all items
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 187, in test_sitemap_last_modified_mixed
    response = self.client.get("/lastmod-mixed/sitemap.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'FixedLastmodMixedSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_sitemap_last_modified_tz (sitemaps_tests.test_http.HTTPSitemapTests)
The Last-Modified header should be converted from timezone aware dates
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 175, in test_sitemap_last_modified_tz
    response = self.client.get("/lastmod/tz-sitemap.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'TimezoneSiteMap' object has no attribute '_urls'

======================================================================
ERROR: test_sitemap_latest_lastmod_timezone (sitemaps_tests.test_http.HTTPSitemapTests)
lastmod datestamp shows timezones if Sitemap.get_latest_lastmod
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 247, in test_sitemap_latest_lastmod_timezone
    response = self.client.get("/lastmod/latest-lastmod-timezone-sitemap.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 76, in index
    site_lastmod = site.get_latest_lastmod()
AttributeError: 'TimezoneSiteMap' object has no attribute 'get_latest_lastmod'

======================================================================
ERROR: test_sitemap_not_callable (sitemaps_tests.test_http.HTTPSitemapTests)
A sitemap may not be callable.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 37, in test_sitemap_not_callable
    response = self.client.get("/simple-not-callable/index.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 76, in index
    site_lastmod = site.get_latest_lastmod()
AttributeError: 'SimpleSitemap' object has no attribute 'get_latest_lastmod'

======================================================================
ERROR: test_sitemaps_lastmod_ascending (sitemaps_tests.test_http.HTTPSitemapTests)
The Last-Modified header is set to the most recent sitemap lastmod.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 211, in test_sitemaps_lastmod_ascending
    response = self.client.get("/lastmod-sitemaps/ascending.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'DateSiteMap' object has no attribute '_urls'

======================================================================
ERROR: test_sitemaps_lastmod_descending (sitemaps_tests.test_http.HTTPSitemapTests)
The Last-Modified header is set to the most recent sitemap lastmod.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 221, in test_sitemaps_lastmod_descending
    response = self.client.get("/lastmod-sitemaps/descending.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'FixedNewerLastmodSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_sitemaps_lastmod_mixed_ascending_last_modified_missing (sitemaps_tests.test_http.HTTPSitemapTests)
The Last-Modified header is omitted when lastmod isn't found in all
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 195, in test_sitemaps_lastmod_mixed_ascending_last_modified_missing
    response = self.client.get("/lastmod-sitemaps/mixed-ascending.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'EmptySitemap' object has no attribute '_urls'

======================================================================
ERROR: test_sitemaps_lastmod_mixed_descending_last_modified_missing (sitemaps_tests.test_http.HTTPSitemapTests)
The Last-Modified header is omitted when lastmod isn't found in all
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 203, in test_sitemaps_lastmod_mixed_descending_last_modified_missing
    response = self.client.get("/lastmod-sitemaps/mixed-descending.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 130, in sitemap
    urls.extend(site.get_urls(page=page, site=req_site, protocol=req_protocol))
  File "/testbed/django/contrib/sitemaps/__init__.py", line 163, in get_urls
    return self._urls(page, protocol, domain)
AttributeError: 'FixedLastmodSitemap' object has no attribute '_urls'

======================================================================
ERROR: test_x_robots_sitemap (sitemaps_tests.test_http.HTTPSitemapTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/testbed/tests/sitemaps_tests/test_http.py", line 326, in test_x_robots_sitemap
    response = self.client.get("/simple/index.xml")
  File "/testbed/django/test/client.py", line 839, in get
    response = super().get(path, data=data, secure=secure, **extra)
  File "/testbed/django/test/client.py", line 427, in get
    return self.generic(
  File "/testbed/django/test/client.py", line 544, in generic
    return self.request(**r)
  File "/testbed/django/test/client.py", line 813, in request
    self.check_exception(response)
  File "/testbed/django/test/client.py", line 666, in check_exception
    raise exc_value
  File "/testbed/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/testbed/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 34, in inner
    response = func(request, *args, **kwargs)
  File "/testbed/django/contrib/sitemaps/views.py", line 76, in index
    site_lastmod = site.get_latest_lastmod()
AttributeError: 'SimpleSitemap' object has no attribute 'get_latest_lastmod'

----------------------------------------------------------------------
Ran 40 tests in 0.138s

FAILED (errors=34)
Destroying test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...
+ git checkout 444b6da7cc229a58a2c476a52e45233001dc7073 tests/sitemaps_tests/test_http.py tests/sitemaps_tests/urls/http.py
Updated 2 paths from 71c4678e3b
